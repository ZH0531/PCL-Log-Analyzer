<!-- PCL 日志分析工具 - 自定义主页
     作者：ZH0531
     版本：1.1.0
     更新日期：2025-11-05 -->

<local:MyCard Title="Minecraft 日志分析工具" Margin="0,0,0,15" CanSwap="False">
    <StackPanel Margin="25,40,23,15">
        <local:MyHint Text="分析游戏日志，自动识别错误类型并提供解决方案&#xA;首次使用请点击安装/更新工具按钮" IsWarn="False"/>
        
        <!-- 主功能按钮 -->
        <local:MyButton Height="50" Margin="0,15,0,0" ColorType="Highlight"
            Text="📊 分析最新日志" 
            EventType="打开文件" 
            EventData="powershell.exe|-ExecutionPolicy Bypass -File &quot;{path}PCL\PCL Log Analyzer\Scripts\AnalyzeLogs.ps1&quot;"
            ToolTip="自动分析最近一次游戏的日志文件"/>
        
        <!-- 辅助功能 -->
        <Grid Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            
            <local:MyButton Grid.Column="0" Margin="0,0,5,0" Height="40"
                Text="📂 手动选择日志" 
                EventType="打开文件" 
                EventData="powershell.exe|-ExecutionPolicy Bypass -File &quot;{path}PCL\PCL Log Analyzer\Scripts\SelectLog.ps1&quot;"
                ToolTip="浏览并选择要查看的日志文件"/>
            
            <local:MyButton Grid.Column="1" Margin="5,0,0,0" Height="40"
                Text="🔄 安装/更新工具" 
                EventType="打开文件" 
                EventData="powershell.exe|-ExecutionPolicy Bypass -Command &quot;$pclRoot='{path}PCL'; cd $pclRoot; $script=irm 'https://pcl.log.zh8888.top/Install.ps1'; iex $script&quot;"
                ToolTip="首次使用点此安装，或更新到最新版本（包含环境检查）"/>
        </Grid>

        <!-- 快捷入口 -->
        <Grid Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            
            <local:MyButton Grid.Column="0" Margin="0,0,5,0" Height="35"
                Text="📄 上次报告" 
                EventType="打开文件" 
                EventData="{path}PCL\PCL Log Analyzer\Reports\latest.html"
                ToolTip="打开最近一次生成的分析报告"/>
            
            <local:MyButton Grid.Column="1" Margin="5,0,0,0" Height="35"
                Text="📁 历史报告" 
                EventType="打开文件" 
                EventData="PCL Log Analyzer/Reports/reports-list.html"
                ToolTip="查看所有历史分析报告（每次分析后自动更新）"/>
        </Grid>
        
    </StackPanel>
</local:MyCard>

<!-- 版本更新通知（可折叠） -->
<local:MyCard Title="工具已更新至 v1.1.0 - 请手动点击更新工具（若已更新请忽略）" Margin="0,0,0,15" CanSwap="True" IsSwaped="False">
    <StackPanel Margin="25,25,23,15">
        <TextBlock TextWrapping="Wrap" Margin="0,12,0,0" FontSize="12" Foreground="#666666"
            Text=" v1.1.0 重大更新："/>
        <TextBlock TextWrapping="Wrap" Margin="15,5,0,0" FontSize="12" Foreground="#666666"
            Text="• 新增 历史报告列表页（支持搜索、筛选、排序）&#xA;• 新增 双列网格布局，更美观易用&#xA;• 优化 代码模块化架构，性能提升&#xA;• 优化 安全更新机制（失败自动回滚）&#xA;• 修复 报告生成和显示问题"/>
        <TextBlock TextWrapping="Wrap" Margin="0,12,0,0" FontSize="12" Foreground="#e67e22" FontWeight="Bold"
            Text="首次使用？"/>
        <TextBlock TextWrapping="Wrap" Margin="15,5,0,0" FontSize="12" Foreground="#666666"
            Text="• 点击【安装/更新工具】完成安装（含环境检查）&#xA;• 点击【分析最新日志】自动分析游戏崩溃原因&#xA;• 查看自动打开的HTML报告，按建议解决问题"/>
    </StackPanel>
</local:MyCard>

<!-- 实用工具箱 -->
<local:MyCard Title="实用工具箱" Margin="0,0,0,15" CanSwap="True" IsSwaped="False">
    <StackPanel Margin="25,40,23,15">
        <local:MyListItem Margin="-5,2,-5,8"
            Logo="pack://application:,,,/images/Blocks/CommandBlock.png"
            Title="查看启动脚本" 
            Info="查看上次游戏启动的完整命令（Java参数、内存配置、Mod加载等）" 
            EventType="打开文件" 
            EventData="notepad.exe|LatestLaunch.bat"
            Type="Clickable" />
        
        <local:MyListItem Margin="-5,2,-5,8"
            Logo="pack://application:,,,/images/Blocks/Fabric.png" 
            Title="清空历史报告" 
            Info="删除所有已生成的分析报告文件，释放磁盘空间" 
            EventType="打开文件" 
            EventData="powershell.exe|-NoExit -ExecutionPolicy Bypass -File &quot;{path}PCL\PCL Log Analyzer\Scripts\ClearReports.ps1&quot;"
            Type="Clickable" />
        
        <local:MyListItem Margin="-5,2,-5,8"
            Logo="pack://application:,,,/images/Blocks/Egg.png" 
            Title="今日人品" 
            Info="测试今天的运气值，看看适不适合玩游戏" 
            EventType="今日人品"
            Type="Clickable" />
        
        <local:MyListItem Margin="-5,2,-5,8"
            Logo="pack://application:,,,/images/Blocks/Anvil.png" 
            Title="清理垃圾" 
            Info="清理游戏缓存和临时文件，释放磁盘空间" 
            EventType="清理垃圾"
            Type="Clickable" />
        
        <local:MyListItem Margin="-5,2,-5,8"
            Logo="pack://application:,,,/images/Blocks/GoldBlock.png" 
            Title="内存优化" 
            Info="优化系统内存占用，提升游戏性能" 
            EventType="内存优化"
            Type="Clickable" />
        
        <local:MyListItem Margin="-5,2,-5,8"
            Logo="pack://application:,,,/images/Blocks/RedstoneBlock.png" 
            Title="刷新主页" 
            Info="重新加载此自定义主页（联网更新时会重新下载）" 
            EventType="刷新主页"
            Type="Clickable" />
    </StackPanel>
</local:MyCard>

<!-- 碎碎念 -->
<local:MyCard Title="碎碎念" Margin="0,0,0,15" CanSwap="True" IsSwaped="True">
    <StackPanel Margin="25,40,23,15">
        <TextBlock TextWrapping="Wrap" Margin="0,0,0,10" FontSize="13" LineHeight="18"
            Text="又崩溃了？别慌，我帮你看看日志里写了啥~"/>
        
        <Grid Margin="0,5,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            
            <local:MyIconTextButton Grid.Column="0" Margin="0,0,3,0" Height="32"
                Text="GitHub 仓库" 
                EventType="打开网页" 
                EventData="https://github.com/ZH0531/PCL-Log-Analyzer"
                ToolTip="给个 Star 支持一下作者吧！"
                LogoScale="1"
                Logo="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z" />
            
            <local:MyIconTextButton Grid.Column="1" Margin="3,0,3,0" Height="32"
                Text="反馈 Bug" 
                EventType="打开网页" 
                EventData="https://github.com/ZH0531/PCL-Log-Analyzer/issues"
                ToolTip="发现问题？来这里告诉我"
                LogoScale="1"
                Logo="M800.037628 960.010751 223.962372 960.010751c-52.980346 0-95.983874-43.003528-95.983874-95.983874l0-639.892491c0-52.980346 43.003528-95.983874 95.983874-95.983874l447.924744 0c17.717453 0 31.994625 14.277171 31.994625 31.994625s-14.277171 31.994625-31.994625 31.994625L223.962372 192.139761c-17.545439 0-31.994625 14.449185-31.994625 31.994625l0 639.892491c0 17.717453 14.449185 31.994625 31.994625 31.994625l575.903242 0c17.717453 0 31.994625-14.277171 31.994625-31.994625L831.860239 351.94087c0-17.717453 14.277171-31.994625 31.994625-31.994625 17.717453 0 31.994625 14.277171 31.994625 31.994625l0 511.913993C896.021502 916.835209 852.84596 960.010751 800.037628 960.010751zM612.026205 447.924744c-8.256677 0-16.341341-3.096254-22.705863-9.460776-12.55703-12.55703-12.55703-32.682681 0-45.239711L907.374433 75.34218c12.55703-12.55703 32.682681-12.55703 45.239711 0s12.55703 32.682681 0 45.239711L634.560054 438.635982C628.367546 444.82849 620.110868 447.924744 612.026205 447.924744zM479.919368 447.924744 287.951621 447.924744c-17.717453 0-31.994625-14.277171-31.994625-31.994625s14.277171-31.994625 31.994625-31.994625L479.919368 383.935495c17.717453 0 31.994625 14.277171 31.994625 31.994625C511.913993 433.647573 497.636822 447.924744 479.919368 447.924744zM672.05913 639.892491 287.951621 639.892491c-17.717453 0-31.994625-14.277171-31.994625-31.994625s14.277171-31.994625 31.994625-31.994625l383.935495 0c17.717453 0 31.994625 14.277171 31.994625 31.994625S689.604569 639.892491 672.05913 639.892491z" />
            
            <local:MyIconTextButton Grid.Column="2" Margin="3,0,0,0" Height="32"
                Text="为爱发电" 
                EventType="打开网页" 
                EventData="https://afdian.com/a/zh8888"
                ToolTip="请作者喝杯咖啡~"
                LogoScale="1"
                Logo="M1262.99289 719.622459c-13.430599-8.264984-28.927445-13.430599-44.68257-14.980284 34.867902-84.974368 57.080047-196.293374-18.596215-306.837537-115.193217-168.657333-280.75118-256.73107-491.766556-260.863562-60.179416-1.291404-130.948343 1.549685-205.849762 4.649054-87.040614 3.35765-203.008673 8.006703-281.526023 1.549684 15.755126-8.523265 32.543375-16.788249 47.007098-23.761829 55.530362-27.119479 98.921529-48.04022 84.457807-85.232649-7.748423-21.695583-30.218848-33.059937-67.411277-34.09306C206.624604-1.755689 37.967271 43.443443 7.748423 119.636265c-17.04653 42.874605-19.887618 125.524447 152.902206 198.876182 71.027208 30.218848 271.969635 66.894715 349.453861 74.643138 17.563091 1.549685 34.867902 5.165615 51.397871 11.364353-17.821372 11.622634-35.901025 24.02011-54.238959 36.417586-31.768533-18.079653-83.941245-39.516955-122.683358-13.172318-14.463722 9.298107-23.503549 25.053233-24.02011 42.358044-0.516562 21.179022 12.397476 42.099763 26.861198 58.629731-57.080047 45.715694-103.312302 89.881703-119.84227 123.974762-18.337934 41.841482-25.828075 110.544163 8.523265 177.438879 43.391167 84.974368 138.955046 144.120661 284.625391 176.147474 190.352916 41.583202 354.619476 4.132492 463.355674-53.205835 60.437697-32.026814 103.570583-69.994085 124.233043-103.828864 6.457019 2.066246 12.914038 4.132492 19.629338 6.198738 9.298107 2.841088 18.596214 5.682177 27.37776 8.781546 28.669164 10.072949 60.695977 8.523265 85.232649-3.61593l1.291403-0.774843c17.821372-9.039826 31.510252-25.053233 37.708991-44.166009 15.238565-51.139589-29.444006-79.033911-56.563486-96.08044z m-811.776412-239.684541l-17.30481 12.655757c-5.165615-5.165615-9.814669-11.106072-13.430599-17.563091 6.7153-2.066246 18.337934 0.258281 30.735409 4.907334zM1262.99289 798.139808c-1.291404 3.874211-4.132492 6.97358-9.298107 9.814669-10.33123 5.165615-25.569795 5.423896-39.258675 0.774842-9.298107-3.35765-19.371057-6.457019-29.444006-9.556388-18.596214-5.682177-49.848186-15.238565-55.788643-22.470426-9.814669-12.914038-28.152602-15.755126-41.32492-5.940457s-15.755126 28.152602-5.940458 41.324921c3.615931 4.390773 7.490142 8.264984 12.139196 11.622634-44.940851 62.245662-242.267348 186.220424-521.468844 125.007885-125.782728-27.636041-210.498815-77.742507-244.850155-145.412065-24.794952-48.815063-19.112776-98.921529-7.231861-126.299289 34.09306-71.027208 280.75118-234.518925 438.30244-327.241716 13.947161-8.264984 18.596214-26.344637 10.33123-40.291798s-27.119479-19.629337-40.291797-10.33123c-12.655757 7.490142-55.788643 33.059937-111.060725 68.186119-18.596214-12.655757-50.881309-27.894322-102.537459-33.059936-81.874999-8.264984-270.936512-44.42429-332.149051-70.252366C139.471608 245.418993 40.033517 196.34565 61.987381 141.073568c5.165615-12.914038 29.185725-33.576498 81.100157-53.464116 35.384463-13.430599 72.318611-22.470426 109.769321-27.119479l-11.622634 5.682176c-35.384463 17.304811-73.868296 36.417586-99.954652 59.146293-1.807965-1.033123-3.615931-2.324527-5.165615-3.874211-10.847792-11.622634-29.185725-12.397476-41.06664-1.291404l-0.516562 0.516561c-11.880915 11.106072-12.139195 29.702287-1.033123 41.583202 10.589511 11.106072 26.086356 19.371057 45.715694 25.569795 0.774842 0.258281 1.291404 0.516562 2.066246 0.774842 68.702681 21.179022 190.611197 18.596214 362.367899 11.622634 74.126577-2.841088 144.120661-5.682177 202.492111-4.649054 193.710566 3.874211 339.122631 80.841876 444.75946 235.552049 64.828469 95.047318 41.583202 188.544951 4.390773 269.903388-4.649054-3.615931-9.039826-7.748423-12.655757-12.139195-10.33123-12.397476-28.669164-14.463722-41.324921-4.649054-12.655757 10.072949-14.722003 28.669164-4.649054 41.324921 5.940457 7.490142 36.675867 42.874605 74.643138 39.775236h2.066246c1.291404-0.258281 2.324527 0 3.615931-0.258281 25.828075-4.649054 42.358044-3.615931 57.596608 6.198738 20.40418 12.914038 30.218848 20.40418 28.410883 26.861199z" />
        </Grid>
        
        <TextBlock TextWrapping="Wrap" Margin="0,15,0,0" FontSize="11" Foreground="#95a5a6" TextAlignment="Center"
            Text="祝你游戏愉快，不要再崩了！"/>
        

    </StackPanel>
</local:MyCard>

